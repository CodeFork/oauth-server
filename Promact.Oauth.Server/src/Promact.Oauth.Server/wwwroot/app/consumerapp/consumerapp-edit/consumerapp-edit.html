<div class="consumer-edit">
    <div class="card-title-block">
        <div class="title in_block items">
            <h3>Edit Consumer App</h3>
        </div>
        <div class="text-right items">
            <button md-raised-button type="submit" class="btn-back btn-green" (click)="cancel()"> <i class="material-icons">arrow_back</i>Back</button>
        </div>
    </div>
    <form #consumerappEditForm="ngForm">
        <input type="hidden" [(ngModel)]="consumerModel.Id" name="id" />
        <div class="form-group d-flex">
            <div class="half-width mr-25">
                <md-input-container class="full-width">
                    <input mdInput placeholder="Auth Id" [(ngModel)]="consumerModel.AuthId" [disabled]="true" name="AuthId">
                </md-input-container>
                <button md-raised-button type="submit" class="btn-back btn-green" (click)="getRandomNumber(true)">Re-Generate</button>
            </div>
            <div class="half-width">
                <md-input-container class="full-width">
                    <input mdInput [type]="clientSecretIndicator ? 'text':'password'" placeholder="Auth Secret" [(ngModel)]="consumerModel.AuthSecret" [disabled]="true" name="AuthSecret">
                </md-input-container>
                <button md-raised-button type="submit" class="btn-back btn-green" (click)="getRandomNumber(false)">Re-Generate</button>
                <div [hidden]="!clientSecretIndicator" class="error">Please copy the client secret. It will be encoded after saving.</div>
            </div>
        </div>
        <div class="form-group d-flex">
            <div class="half-width mr-25">
                <md-input-container class="full-width">
                    <input mdInput name="name" placeholder="Name" [(ngModel)]="consumerModel.Name" maxlength="255" required #name="ngModel">
                </md-input-container>
                <div [hidden]="!(name.touched && !name.valid && name.errors.required)" class="error">Name is required</div>
            </div>
            <div class="half-width mr-25">
                <md-input-container class="full-width">
                    <input mdInput placeholder="Call Back Url" type="text" name="consumerCallBackUrl" [(ngModel)]="consumerModel.CallbackUrl" maxlength="255" required #consumerCallBackUrl="ngModel" validateUrl>
                </md-input-container>
                <div [hidden]="!(consumerCallBackUrl.touched && !consumerCallBackUrl.valid && consumerCallBackUrl.errors.required)" class="error">Call Back Url is required</div>
                <div [hidden]="!(consumerCallBackUrl.touched && !consumerCallBackUrl.valid && !consumerCallBackUrl.errors.required && consumerCallBackUrl.errors.url)" class="error">Call Back Url is not valid</div>
            </div>
        </div>
        <div class="form-group">
            <div class="half-width" style="position:relative;">
                <md2-select multiple name="select" [(ngModel)]="consumerModel.Scopes" (change)="scopeOnChange(consumerModel.Scopes)" [disabled]="disabled" placeholder="Select Scopes" required>
                    <md2-option *ngFor="let i of scopes" [value]="i.value" [disabled]="i.disabled">{{i.name}}</md2-option>
                </md2-select>
            </div>
            <div [hidden]="!clientScopeIndicator" class="error">Scope Required</div>
        </div>
        <div class="form-group">
            <md-input-container class="full-width">
                <input mdInput placeholder="LogoutUrl" type="text" name="logoutUrl" [(ngModel)]="consumerModel.LogoutUrl" maxlength="255" required #logoutUrl="ngModel" validateUrl>
            </md-input-container>
            <div [hidden]="!(logoutUrl.touched && !logoutUrl.valid && logoutUrl.errors.required)" class="error">Log-Out Url is required</div>
            <div [hidden]="!(logoutUrl.touched && !logoutUrl.valid && !logoutUrl.errors.required && logoutUrl.errors.url)" class="error">Log-Out Url is not valid</div>
        </div>
        <div class="form-group" id="group-btn">
            <button md-raised-button class="btn-green mr-15" type="submit" (click)="updateApps(consumerModel)" [disabled]="!(consumerappEditForm.form.valid && !clientScopeIndicator)">Update</button>
        </div>
    </form>
</div>